<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://use.fontawesome.com/1aa5fbe960.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/1aa5fbe960.css">   
    <meta http-equiv="X-UA-Compatible" content="ie+=edge">
 
    <title>Blog</title>

    <!--Styles-->
    <link rel="stylesheet" href="./css/style.css">
    <style>
        .leftcolumn
        {
            margin-top: 80px;
        }
    .rightcolumn
        {
            margin-top: 80px;
        }
    </style>
</head>
<body>
  
        <nav class="navbar">
          <a href="#" class="navbar-brand">Blog<span>Scape</span></a>
                <ul>
                  <li><a href="index.html">Home</a></li>
                  <li><a href="blog.html">Blog</a></li>
                  <li><a href="about.html">About Me</a></li>
                  <li><a href="login.html" id="loginButton">Logout</a></li>
                </ul>
                <button class="navbar-toggler">
                  <span></span>
                </button>
              </nav>
                <div class="content">
                        <div class="row">
                                <div class="leftcolumn" id="featured_blogs">
                                  
                                </div> 
                                  
                                <div class="rightcolumn">
                                  <div class="card">
                                    <h2>About Me</h2>
                                    <div class="fakeimg" style="height:100px;">Image</div>
                                    <p>Some text about me in culpa qui officia deserunt mollit anim..</p>
                                  </div>
                                  <div class="card">
                                    <h3>Popular Post</h3>
                                    <div class="fakeimg">Image</div><br>
                                    <div class="fakeimg">Image</div><br>
                                    <div class="fakeimg">Image</div>
                                  </div>
                                  <div class="card">
                                    <h3>Follow Me</h3>
                                    <div class="icons">
                                      <a href="https://www.facebook.com/"><i class="fa fa-facebook-square" aria-hidden="true"></i></a>
                                      <a href="https://www.instagram.com/"><i class="fa fa-instagram" aria-hidden="true"></i></a>
                                      <a href="https://www.twitter.com/"><i class="fa fa-twitter-square" aria-hidden="true"></i></a>
                                      <a href="https://www.snapchat.com/"><i class="fa fa-snapchat-square" aria-hidden="true"></i></a>
                                    </div>
                                  </div>
                                </div>
                              </div>
                </div>

<div class="footer">
<p>BlogSpot Â© Satelenn. All rights reserved.</p>
 </div>




<script>
    const queryString = window.location.search;
  const urlParams = new URLSearchParams(queryString);
  const id = urlParams.get('id');
  if(queryString==""){
    let blog = document.getElementById("featured_blogs");
  fetch('https://my-json-server.typicode.com/sathelyn/blogspot/posts')
  .then((response) => {
    if (response.status !== 200) {
      console.log('Looks like there was a problem. Status Code: ' + response.status);
      return;
    }
    response.json().then((data) =>{
      data.map((posts)=>{
        blog.classList.add("card");
        blog.style.marginTop = "100px";
        blog.innerHTML +=`<div class="card">`;
          blog.innerHTML += `<h2 class="blog-title" >${posts.title}</h2>`;
          blog.innerHTML += `<p class="blog-description">${posts.description}</p>`;
          blog.innerHTML += `<span class="blog-date"><small>${posts.date}</small></span>`;
          blog.innerHTML += `<img src="${posts.image}" width="100%" height="200px" style="object-fit: cover"/>`;
          blog.innerHTML += `<p>Best part..</p>`;
          blog.innerHTML += `<p class="blog-content">${posts.content}<span id="dots">...</span></p>`;
          blog.innerHTML += `<a href="blog.html?id=${posts.id}" class="myButton">Read more...</a>`;
        
          blog.innerHTML += `</div>`;
          
        });
           

    });
  }
)
.catch((err) => {
console.log('Fetch Error :-S', err);
});
}else{

  let blog = document.getElementById("featured_blogs");
  fetch(`https://my-json-server.typicode.com/sathelyn/blogspot/posts/${id}`)
.then((response) => {
  if (response.status !== 200) {
    console.log('Looks like there was a problem. Status Code: ' + response.status);
    return;
  }
  response.json().then((data) =>{

      blog.classList.add("card");
      blog.style.marginTop = "100px";
      blog.innerHTML +=`<div class="card">`;
        blog.innerHTML += `<h2 class="blog-title">${data.title}</h2>`;
        blog.innerHTML += `<p class="blog-description">${data.description}</p>`;
        blog.innerHTML += `<span class="blog-date"><small>${data.date}</small></span>`;
        blog.innerHTML += `<img src="${data.image}" width="100%" height="200px" style="object-fit: cover"/>`;
        blog.innerHTML += `<p>Best part..</p>`;
        blog.innerHTML += `<p class="blog-content">${data.content}</p>`;
        blog.innerHTML += `</div>`;
        
    
  });
}
)
.catch((err) => {
console.log('Fetch Error :-S', err);
});

}
  
  

  
</script>

</body>
<script src="./js/scripts.js"></script>
</html>